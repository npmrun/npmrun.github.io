---
typora-root-url: 捕鱼轨迹的心路历程
title: 捕鱼轨迹的心路历程
date: 2020-06-08 15:05:30
tags:
categories: 
comments: false
---

> 新的任务需求，要求上手一款捕鱼进行定制化修改，好在这款产品仍然处于初期状态，这样也就有了足够的时间来进行代码的梳理以及结构的调整。其中主要运用的是观察者发布者模式，其中提供一个中央事件总线进行管理。这些都是比较简单的，逻辑思维没啥比较绕的部分，不过在实现中，考虑到一些原因，现在记录下市面上一些捕鱼的轨迹实现，主要是为了能够方面的实现界面重绘。

前提：

鱼的路线是一段一段的路径点，是一个一个点之间移动的。单条鱼的路径不需要特别的说明，比较难的是鱼阵的实现方式，考虑到鱼阵需要重新绘制，因此如果采用计时器方法周期性出鱼的话就会导致无法比较精确的重绘鱼，而且也会使得不知道当前需要出第几条鱼，除非服务器端有非常详细的出鱼时间。当前暂没有服务器端配合，我考虑的是一次性绘制出所有的鱼群，这样就能直接移动偏移就行了.

思路:

A->B->C->D->F.......鱼是按照这样一个一个点的走,中间AB间的过度采用的是匀速直线前进(有些人采用的是中间用内塞尔算法平滑过渡,但是这样我暂时没有办法让他匀速.控制不了速度感觉就如脱缰的野马一样).

我们先绘制出鱼阵的路线,编上号,在让每一条鱼根据对应的编号走就行了.



demo暂缓