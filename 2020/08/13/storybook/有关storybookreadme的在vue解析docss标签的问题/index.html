<!DOCTYPE html>
<html>
  <head>
    <title>时光👎</title>
    <!-- 响应式的关键，不设置的话页面会自动缩小 -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    <link rel="shortcut icon" href>
    
<script src="/lib/highlight.min.js"></script>
 
    <!-- 
<script src="/lib/highlightjs-line-numbers.min.js"></script>
  -->
    <script type="text/javascript">
      hljs.initHighlightingOnLoad();
      // hljs.initLineNumbersOnLoad();
    </script>
    
<link rel="stylesheet" href="/assets/init.css">
 
    
<link rel="stylesheet" href="/assets/scroll.css">

    
<link rel="stylesheet" href="/assets/github.css">
 
    
<link rel="stylesheet" href="/assets/gitcode.css">
 
    
<link rel="stylesheet" href="/assets/index.css">

    <script src="https://cdn.bootcdn.net/ajax/libs/graingert-wow/1.1.2/wow.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" rel="stylesheet">
    
    
  <meta name="generator" content="Hexo 4.2.0"><link rel="alternate" href="/atom.xml" title="时光之城" type="application/atom+xml">
</head>
  <body>
    </body></html>

<div class="page-wrapper">
  <header class="header-wrapper session-wrapper wow animate__slideInDown" data-wow-duration="1s">
  <a href="/" class="title" title="home">home</a>
  <ol class="right-menu">  
  
    <li title="首页"><a href="/">首页</a></li>
  
    <li title="关于"><a href="/about">关于</a></li>
  
    <li title="友情链接"><a href="/link">友情链接</a></li>
   
  
</ol></header>
  <div class="article-list session-wrapper" style="min-height: auto;margin-top:40px;">
  <!-- <h2 class="article-list__title">有关storybookreadme的在vue解析docs标签的问题</h2> -->
  <div class="article-list__meta">
    <p class="article-list__author">author西风吹盛夏</p>
    <p class="article-list__time">updated:2020-09-17</p>
  </div>
</div>
<article class="markdown-body article  session-wrapper wow animate__fadeIn " data-wow-duration="1s">
  <blockquote>
<p>主题：<br>概述：</p>
</blockquote>
<!--正文-->
<!--more-->

<h2 id="问题："><a href="#问题：" class="headerlink" title="问题："></a>问题：</h2><p>我是根据<code>storybook-readme</code>的文档进行配置的，类似于下面这样 ：</p>
<pre><code> config.module.rules.push({
  test: /\.vue$/,
  use: &quot;vue-docgen-loader&quot;,
  enforce: &quot;post&quot;,
});
config.module.rules.push({
  resourceQuery: /blockType=docs/,
  use: [&apos;storybook-readme/vue/docs-loader&apos;,&apos;html-loader&apos;, &apos;markdown-loader&apos;],
});</code></pre><p>然后就出问题了：</p>
<p><img src="/static/storybook/%E6%9C%89%E5%85%B3storybookreadme%E7%9A%84%E5%9C%A8vue%E8%A7%A3%E6%9E%90docss%E6%A0%87%E7%AD%BE%E7%9A%84%E9%97%AE%E9%A2%98/images/image-20200813224956262.png" alt="image-20200813224956262"></p>
<p>经过长时间的尝试，发现这两个错误，在<code>Component.options.__docs</code>后面竟然没有引号，直接接了一串<code>docs</code>的内容，因此我找到那个<code>docs-loader</code>进行修改，修改之后类似于下面这样：</p>
<pre><code>module.exports = function (source, map) {
  this.callback(null, &apos;module.exports = function(Component) {Component.options.__docs = &quot;&apos; + source + &apos;&quot;}&apos;, map);
};</code></pre><p>然后又除了下面这个问题：</p>
<p><img src="/static/storybook/%E6%9C%89%E5%85%B3storybookreadme%E7%9A%84%E5%9C%A8vue%E8%A7%A3%E6%9E%90docss%E6%A0%87%E7%AD%BE%E7%9A%84%E9%97%AE%E9%A2%98/images/image-20200813225100254.png" alt="image-20200813225100254"></p>
<p>百度得知好像是双引号不能回车，因此我们把加的双引号换车反引号。</p>
<pre><code>module.exports = function (source, map) {
  console.log(source)
  this.callback(null, &apos;module.exports = function(Component) {Component.options.__docs = `&apos; + source + &apos;`}&apos;, map);
};</code></pre><p>通过打印<code>source</code>你会发现又多了一小撮东西，这是因为这个<code>source</code>本质上是一个js文件，需要导入才行，不过我也不知道怎么把字符串当js导入，因此我就直接把<code>html-loader</code>去掉了，这样就行了。能够使用<code>docs</code>标签了。</p>

</article>


  <div id="vcomments" class="session-wrapper" style="animation-duration: 2s;animation-delay: 0ms;"></div>
  
</div>

<script src="/js/layout/index.js"></script>



  <script>
    var script = document.createElement('script');
    script.async = true;
    script.src="//unpkg.com/valine/dist/Valine.min.js"
    script.onload = function(){
      new Valine({
        el: '#vcomments',
        appId: 'WtelXWOsz6zEJvXGl3LToHOK-MdYXbMMI',
        appKey: 'B9X5fQyROCs2pFu7yt0NeLIP'
      })
      var el = document.getElementById('vcomments');
      if (el) {
        el.classList.add("animate__fadeIn");
        el.setAttribute("data-wow-duration","1s");
        el.classList.add("wow");
      }
    }
    document.body.appendChild(script)
  </script>

<script>
  var wow = new WOW({
    boxClass: 'wow',
    animateClass: 'animated',
    offset: 0,
    mobile: true,
    live: true
  });
  wow.init(); 
</script>


